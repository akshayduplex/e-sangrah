<!-- Metadata Modal -->
<div id="metadata-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Metadata</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="metadataForm">
                    <div class="mb-3">
                        <label class="form-label">File Name</label>
                        <input class="form-control" type="text" name="fileName" required placeholder="File Name"
                            value="<%= typeof document !== 'undefined' && document.metadata && document.metadata.fileName ? document.metadata.fileName : '' %>">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">File description</label>
                        <input class="form-control" type="text" name="fileDescription" required
                            placeholder="Project about the new KVP app"
                            value="<%= typeof document !== 'undefined' && document.metadata && document.metadata.fileDescription ? document.metadata.fileDescription : '' %>">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">File main Heading</label>
                        <input type="text" class="form-control" name="mainHeading" placeholder="Main Heading"
                            value="<%= typeof document !== 'undefined' && document.metadata && document.metadata.mainHeading ? document.metadata.mainHeading : '' %>">
                    </div>
                    <div class="mb-3 text-center">
                        <button class="btn btn-primary rounded-pill" type="submit">Save Metadata</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Success Modal -->
<div id="data-success-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modalw620">
        <div class="modal-content">
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            <div class="modal-body">
                <div class="success_mdltxt text-center">
                    <div class="imgscs mb-3"><img src="/img/icons/success.png"></div>
                    <div class="d-flex align-items-center justify-content-center mb-2">
                        <span class="avatar rounded bg-light mb-2">
                            <img src="/img/icons/fn1.png">
                        </span>
                        <div class="ms-2">
                            <p class="fs-14 mb-1 fw-normal" id="successFileName">Project Proposal v1</p>
                        </div>
                    </div>
                    <h4 class="fs-24 text-dark fw-medium mb-4">Your File <%= typeof isEdit !=='undefined' && isEdit
                            ? "Updated" : "Added" %> Successfully</h4>
                    <p class="fs-20 fw-normal mb-4">You will be notified soon as your file gets approved</p>
                    <div class="mb-3 text-center">
                        <button class="btn btn-primary rounded-pill minw80" type="button"
                            data-bs-dismiss="modal">Ok</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Folder Creation Modal -->
<div id="folder-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Create New Folder</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="createFolderForm">
                    <div class="mb-3">
                        <label class="form-label">Folder Name</label>
                        <input type="text" class="form-control" id="folderName" name="folderName" required
                            placeholder="Enter folder name">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Parent Folder</label>
                        <select id="parentFolder" name="parentFolder" class="form-select select2">
                            <option value="">-- Top-Level (No Parent) --</option>
                        </select>
                    </div>
                    <div class="mb-3 text-center">
                        <button class="btn btn-primary rounded-pill" type="submit">Create Folder</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>

<!-- Delete Confirmation Modal -->
<div id="trashdoc-modal" class="modal fade" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="trashdocLabel">
                    <img src="/img/icons/bin.png" class="me-2" style="width:24px; height:24px;">
                    Delete File
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="trashdoc-modal-body">
                You are about to delete this file.<br>
                This action cannot be undone. Are you sure you want to proceed?
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="confirm-trash-folder">Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- Signature Canvas Modal -->
<div class="modal fade" id="signatureModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content p-3">
            <div class="modal-header">
                <h5 class="modal-title">Draw Your Signature</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <div class="canvas-wrap"
                    style="border:1px solid #ccc; border-radius:8px; height:200px; position:relative;">
                    <canvas id="sigCanvas" style="width:100%; height:100%; touch-action:none;"></canvas>
                </div>
                <div class="mt-2 text-end">
                    <button type="button" id="undoSignBtn" class="btn btn-secondary btn-sm">Undo</button>
                    <button type="button" id="clearSignBtn" class="btn btn-secondary btn-sm">Clear</button>
                    <button type="button" id="saveSignBtn" class="btn btn-primary btn-sm">Save</button>
                </div>
            </div>
        </div>
    </div>
</div>